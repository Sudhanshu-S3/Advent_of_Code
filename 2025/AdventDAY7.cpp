#include<bits/stdc++.h>
using namespace std;
using ll = long long;

void solve1()
{
    vector<string> grid;
    string line;
    
    while(getline(cin, line))
    {
        grid.push_back(line);
    }
    
    int l = grid.size();
    int count = 0;
    
    vector<bool> check(l,false);
    
    for(int i = 0; i < l; i++)
    {
        for(int j = 0; j < grid[i].length(); j++)
        {
            
            if(grid[i][j] == '^' && check[j])
            {
                check[j-1] = true;
                check[j+1] = true;
                check[j] = false;
                count++;
            }
            if(grid[i][j] == 'S')
            {
            	check[j]= true;
            }
        }
        
    }
      
    
    /*
    for(int i = 0; i < l; i++)
    {
        for(int j = 0; j < grid[i].length(); j++)
        {
        
            if(grid[i][j] == '^')
            {
                if(i > 0 && j < grid[i-1].length() && grid[i-1][j] == '|')
                {
                    count++;
                }
            }
        }
    }
    */
    
    
    
    cout << count << endl;
}



pair<ll , ll > dfs(int r, int c, vector<vector<pair<ll , ll>>>& memo, const vector<string>& grid, int n, int m)
{
    if (r < 0 || r >= n || c < 0 || c >= m)
        return {0LL, 0LL};

    auto &res = memo[r][c];
    if (res.first != -1)
        return res;

    char ch = grid[r][c];
    pair<ll , ll> ans = {0LL, 0LL};

    if (ch == '.' || ch == 'S')
    {
        ans = dfs(r + 1, c, memo, grid, n, m);
    }
    else if (ch == '^')
    {
        auto left  = dfs(r + 1, c - 1, memo, grid, n, m);
        auto right = dfs(r + 1, c + 1, memo, grid, n, m);

        ans.first  = 1 + left.first + right.first;
        ans.second = left.second + right.second;
    }
    else
    {
        ans = dfs(r + 1, c, memo, grid, n, m);
    }

    res = ans;
    return ans;
}

void solve2() 
{
    vector<string> grid;
    string line;
    
    while (getline(cin, line))
    {
        if (!line.empty())
            grid.push_back(line);
    }

    int n = (int)grid.size();
    int m = (int)grid[0].size();

    int sr = -1, sc = -1;
    for (int r = 0; r < n; ++r) 
    {
        for (int c = 0; c < m; ++c) 
        {
            if (grid[r][c] == 'S') 
            {
                sr = r;
                sc = c;
                break;
            }
        }
        if (sr != -1) break;
    }

    if (sr == -1) 
    {
        cout << 0 << '\n';
        return;
    }

    vector<vector<pair<ll , ll>>> memo(n, vector<pair<ll , ll>>(m, {-1LL, -1LL}));

    ll extra = 0;
    if (sr + 1 < n) 
    {
        extra = dfs(sr + 1, sc, memo, grid, n, m).first;
    }
    ll answer = 1 + extra;
    cout << answer << '\n';
}


int main()
{
    solve2();
    return 0;
}


/*

My Input =>

......................................................................S......................................................................
.............................................................................................................................................
......................................................................^......................................................................
.............................................................................................................................................
.....................................................................^.^.....................................................................
.............................................................................................................................................
....................................................................^...^....................................................................
.............................................................................................................................................
...................................................................^.^...^...................................................................
.............................................................................................................................................
..................................................................^.......^..................................................................
.............................................................................................................................................
.................................................................^...^.^.^.^.................................................................
.............................................................................................................................................
................................................................^.....^.^...^................................................................
.............................................................................................................................................
...............................................................^.^.^.^...^.^.^...............................................................
.............................................................................................................................................
..............................................................^.^.^.^.^...^...^..............................................................
.............................................................................................................................................
.............................................................^.^...^.^.^.^...^.^.............................................................
.............................................................................................................................................
............................................................^...^.^.^.......^...^............................................................
.............................................................................................................................................
...........................................................^.^.....^...^.....^.^.^...........................................................
.............................................................................................................................................
..........................................................^...^.^...^...^...^.^.^.^..........................................................
.............................................................................................................................................
.........................................................^.^.^...^.^.^.^.....^.^.^.^.........................................................
.............................................................................................................................................
........................................................^.^.....^.^.^.^.^...^.^...^.^........................................................
.............................................................................................................................................
.......................................................^.^.......^.^.^.^.....^.......^.......................................................
.............................................................................................................................................
......................................................^.^.^.^.^...^...^.^...^.........^......................................................
.............................................................................................................................................
.....................................................^.....^.^.......^.........^.^.^.^.^.....................................................
.............................................................................................................................................
....................................................^.^.^.^...^.^.^...^.....^...^...^.^.^....................................................
.............................................................................................................................................
...................................................^...^.^.^.....^...^.^.^.^.^.^.^.......^...................................................
.............................................................................................................................................
..................................................^.^...^.^.^.^.^...^.^.....^.^.^.^.^.^.^.^..................................................
.............................................................................................................................................
.................................................^.^.^.^.^.......^.^...^.^.^.....^.^...^...^.................................................
.............................................................................................................................................
................................................^.^.^.^...^...^.^.^.^.^.^.^.^.^.^.^.^...^...^................................................
.............................................................................................................................................
...............................................^.^.^.^...^...^...^.^.^...^.^.^.....^.^.^...^.^...............................................
.............................................................................................................................................
..............................................^...^...^...^.....^...^...^...^...^...^.^.^.^...^..............................................
.............................................................................................................................................
.............................................^.^...^.^.^.^.^...^.^...^.^.....^.^.^.^.^.^.......^.............................................
.............................................................................................................................................
............................................^.^.^.^.^...^.^.....^...^.^.^.^.......^...^...^.^...^............................................
.............................................................................................................................................
...........................................^.^...^.^.^...^.^.^.....^.....^...^.^.^...^...^.^.^.^.^...........................................
.............................................................................................................................................
..........................................^...^...^...^.....^.^.^.^...^.^...^.^.^.^.^.^.^.^.^.^.^.^..........................................
.............................................................................................................................................
.........................................^.^.....^.^...^...^...^.^.^.^...^.^...^.........^.^.^.....^.........................................
.............................................................................................................................................
........................................^.^.....^.^.^...^...^...^.....^...^...^.^.^.^.^.^.^.^.^.^.^.^........................................
.............................................................................................................................................
.......................................^...^.^.^.^.^...^...^.^.^.^.^.^...^...^.^...^.......^.^.^...^.^.......................................
.............................................................................................................................................
......................................^.^.^...^.^.^.....^.......^.................^...^.^.^.^.^.^.^.^.^......................................
.............................................................................................................................................
.....................................^.^.......^.....^.^...^.^.^.^.......^...^.^.^...^.^...^.^.^.^...^.^.....................................
.............................................................................................................................................
....................................^.^...^...^.^.^.^.....^...^...^.^.^.....^...^...^.^.^...^...^...^...^....................................
.............................................................................................................................................
...................................^.^.^...^.....^...^.^.^...^...^.^...^.^.^...^.^.......^.^...^.^...^...^...................................
.............................................................................................................................................
..................................^.^.^.^.......^...^.^.^...^.^.^.^...^.^.^.....^.^.^.......^.^.^...^.^...^..................................
.............................................................................................................................................
.................................^...^...^.^.^.^...^...^...^.^.^.....^.^.^...^.^.......^.^.^.^...^.....^.^.^.................................
.............................................................................................................................................
................................^.^.^.....^.^.^.^.^.^.....^.^.^...^.^...^.....^.^.^.^.^.^.^.^.....^.^.^.^.^.^................................
.............................................................................................................................................
...............................^...^.^.^.....^.^...^...^.......^.^.^.....^.^.^.^.^.^.^.^.^...^...^.^.....^.^.^...............................
.............................................................................................................................................
..............................^.^.^.^.^.......^.^...^...^.^.^...^...^.^.^.........^.^.^.^...^.....^...^.^.^.^.^..............................
.............................................................................................................................................
.............................^...^...^.^...^.^.^.^.........^.^.^.^.^.^...^.^...^.....^.....^.^.....^...^...^.^.^.............................
.............................................................................................................................................
............................^.......^...^.^.^.^.^...^...^.^.^.^.^.^...^.^...^.^.^.^...^.^.^.^.^.^.^...^.^.^...^.^............................
.............................................................................................................................................
...........................^.^...^...^.^...^...^.^.^.....^.......^.^.....^.^.^.^.^.^.......^.^.^...^...^.^...^...^...........................
.............................................................................................................................................
..........................^.......^.^.^.^.^.^...^.^.^...^...^.......^...^.^.^...^.....^...^...^.....^...^.^...^.^.^..........................
.............................................................................................................................................
.........................^...^.^.^.^...^.^...^.^.^.^.^.^...^...^.^.....^.^.^.^...^.^...^.^.^.^.^.^.........^.^.^.^.^.........................
.............................................................................................................................................
........................^...^.^...^...^.^.^.^.^.^.^.^.^.^.^...^...^...^...^.......^.^.....^.^.^.^.^.^.....^...^...^.^........................
.............................................................................................................................................
.......................^...^.^...^...^.^.......^.^.^.^.^.^...^.^.^.^...^.^...^.^.^.......^.....^.^.^.^.^.^.....^.^.^.^.......................
.............................................................................................................................................
......................^.^.^.^.^.^...^...^.^.^.^...^.^.....^.....^.^.^.^...^.^.^.^.^.^...^.^...^.^.^.........^.......^.^......................
.............................................................................................................................................
.....................^.^.^.....^.....^.^.^.^.......^.^.^...^.^.^.....^...^.^.^.^...^...^.^.......^...^.^.^.^...^.^.^...^.....................
.............................................................................................................................................
....................^.....^.^.....^...^...^.^...^.^.^.^.^.^.^.^.^.^.^.^.^.^.^...^.^.^...^...^.^...^...^...^...^.....^...^....................
.............................................................................................................................................
...................^.^...^...^.^.^.^.....^.^.^...^.^.....^...^...^.^.^.^...^.^...^.^.^.^.^.^.....^.^.^.^.......^...^.^.^.^...................
.............................................................................................................................................
..................^.^.......^.^...^.^...^.^.^...^.^.^.^...^.....^.^.^...^.^.^.^.^...^.^...^...^.^.^.^.^.^...^.^.^.^.^.^...^..................
.............................................................................................................................................
.................^.^.^...^.^.^.^.....^.^.^.^.^.....^.^.....^.^.^.^...^...^.^.......^.^.^.^.^...^.^.....^.^...^.^.^.^...^...^.................
.............................................................................................................................................
................^...^.^.^...^.^.....^.^.^.^.^.^.^.^...^.....^.^...^.^...^...^...^...^.^.^.....^.^.^.^.^.^.^.....^...^.^.^...^................
.............................................................................................................................................
...............^...^.^...^.^.^...^.^...^...^.^.^.^.^.^.^.^.^.^.^.^...^.^.^...^.....^.^.......^.^...^.^...^.^.^.^.^.^.^.^.^.^.^...............
.............................................................................................................................................
..............^.^...^...^.....^...^.^...^.^...^.^.^.^.^.....^...^...^.....^.^.^...^.^...^.^...^.....^...^...^.....^...^.^.^...^..............
.............................................................................................................................................
.............^.....^.^.^.^...^.....^.^.......^.^.^.^.^.^.^.....^...^.....^.^.....^.^.^.....^...^.^...^.^.^.^...^.^.....^...^.^.^.............
.............................................................................................................................................
............^.^...^.^.......^.^.^.^.^...^.^.^.....^.^.^.^...^...^.....^...^.^...^.^.^...^.^.^.^...^...^.....^.^.^.^...^.^...^.^.^............
.............................................................................................................................................
...........^.....^.^.^.^...^...^.^...^...^.....^.^...^...^.^.^...^.^.......^.^.^...^.^...^.^.......^.^...^.......^.^...^...^.^.^.^...........
.............................................................................................................................................
..........^.^.^.^.......^...^.^.^.^.^.^.^...^.....^.^...^.^.^.^.^.^.^.^.^...^.^.....^.^.......^.^.^.^...^.^.......^.^...^.^...^...^..........
.............................................................................................................................................
.........^.^...^.....^.^.^.^.^.^.^.^...^.^.^.^...^.^.^.^.^.^.^.^...^...^...^.^.^.^.^.^.^.^.^.^.^...^.....^.^.^.^.^.^...^.^.^...^.^.^.........
.............................................................................................................................................
........^.^.^...^.^...^.^.^.^...^.......^...^...^.^.^.^.....^.^...^.^.^.....^.^.^.^.^.^.^...^.^...^.^.^.......^...^.^...^.....^.^...^........
.............................................................................................................................................
.......^.^.^.....^.....^.....^.^.^.^.^.^...^.^...^...^...^.........^.^...^.^.^...^.^...^.^.^...^.^.........^.^.^.^.^.^...^...^.^.^.^.^.......
.............................................................................................................................................
......^...^.^...^...^.^.^...^...^.^.^.^.^.^.^.^.^.^...^...^.....^.......^.^.^.^.^.^.^.^...^.^.^...^...^.^...^.....^.......^.^.^...^.^.^......
.............................................................................................................................................
.....^.^.^.....^...^.^.............^...^.^.^.^.^.^...^...^.^.^.^.^.^.^...^...............^.......^.^.^.....^.^...^.^.^.^.......^...^.^.^.....
.............................................................................................................................................
....^...^.^.^...^...^...^.^.......^...^.^.^.^.^.^.^...^.^.^.^.^.....^.^...^.^...^.^.^.^.........^.....^.^...^...^.^.^.^.^...^.^...^...^.^....
.............................................................................................................................................
...^...^.....^.^.^...^.^.^...^.^.^.^.^.^.^.^.^.^.^.^.^.....^...^...^...^.^.^.^.^...^.^.^.^.^.^.^.^.......^.^.^.^.^.^...^.^...^.^.^...^...^...
.............................................................................................................................................
..^.^...^.^.^.^.^...^.^.^.^.^.^...^.^.^.^.^.^...^...^.....^.^.^.^.^...^.^...........^.^.^.^.^.^...^.^.^.^.^.^.^.^.^.^.^.........^.^.^...^.^..
.............................................................................................................................................
.^...^.^.^.^...^.....^.^.^.^.^.^.^.^.^...^.^.^...^.^.^...^.^...^.^.^.^...^...^.....^.....^...^.^...^.^.^...^.^.....^...^.^.^.^.^.^.^.^.^.^.^.
.............................................................................................................................................

*/
